"use client"

import { createContext, useContext, useState, type ReactNode } from "react"

type Language = "en" | "es" | "fr" | "de" | "zh" | "ja"

const translations: Record<Language, Record<string, string>> = {
  en: {
    dashboard: "Dashboard",
    patients: "Patients",
    diagnostics: "Diagnostics",
    analytics: "Analytics",
    settings: "Settings",
    about: "About",
    uploadMammogram: "Upload Mammogram",
    dragDrop: "Drag & drop your DICOM or PNG file",
    analysisFee: "Analysis Fee",
    privacyShield: "Privacy Shield",
    systemStatus: "System Status",
    gpuLoad: "GPU Load",
    patientQueue: "Patient Queue",
    paymentPending: "Payment Pending",
    analyzing: "Analyzing",
    verified: "Verified",
    teamCypher: "Team Cypher",
    collaborate: "Collaborate",
    lightMode: "Light Mode",
    darkMode: "Dark Mode",
    language: "Language",
    masumiNode: "Masumi Node",
    midnightProver: "Midnight Prover",
    gpuMemory: "GPU Memory",
    hashingInputs: "Hashing Inputs",
    generatingZkSnark: "Generating ZK-SNARK",
    onChainVerification: "On-Chain Verification",
    helpSupport: "Help & Support",
    shortcuts: "Shortcuts",
    welcome: "Welcome",
    welcomeMessage:
      "Upload mammogram scans for AI-powered analysis. Your data is protected with Zero-Knowledge encryption.",
    quickTour: "Take a quick tour",
    searchPlaceholder: "Search patients, scans...",
    notifications: "Notifications",
    noNotifications: "No new notifications",
    recentActivity: "Recent Activity",
  },
  es: {
    dashboard: "Panel",
    patients: "Pacientes",
    diagnostics: "Diagnósticos",
    analytics: "Analíticas",
    settings: "Ajustes",
    about: "Acerca de",
    uploadMammogram: "Subir Mamografía",
    dragDrop: "Arrastra y suelta tu archivo DICOM o PNG",
    analysisFee: "Tarifa de Análisis",
    privacyShield: "Escudo de Privacidad",
    systemStatus: "Estado del Sistema",
    gpuLoad: "Carga GPU",
    patientQueue: "Cola de Pacientes",
    paymentPending: "Pago Pendiente",
    analyzing: "Analizando",
    verified: "Verificado",
    teamCypher: "Equipo Cypher",
    collaborate: "Colaborar",
    lightMode: "Modo Claro",
    darkMode: "Modo Oscuro",
    language: "Idioma",
    masumiNode: "Nodo Masumi",
    midnightProver: "Probador Midnight",
    gpuMemory: "Memoria GPU",
    hashingInputs: "Hasheando Entradas",
    generatingZkSnark: "Generando ZK-SNARK",
    onChainVerification: "Verificación On-Chain",
    helpSupport: "Ayuda y Soporte",
    shortcuts: "Atajos",
    welcome: "Bienvenido",
    welcomeMessage:
      "Sube mamografías para análisis con IA. Tus datos están protegidos con encriptación Zero-Knowledge.",
    quickTour: "Hacer un tour rápido",
    searchPlaceholder: "Buscar pacientes, escaneos...",
    notifications: "Notificaciones",
    noNotifications: "Sin nuevas notificaciones",
    recentActivity: "Actividad Reciente",
  },
  fr: {
    dashboard: "Tableau de bord",
    patients: "Patients",
    diagnostics: "Diagnostics",
    analytics: "Analytique",
    settings: "Paramètres",
    about: "À propos",
    uploadMammogram: "Télécharger Mammographie",
    dragDrop: "Glissez-déposez votre fichier DICOM ou PNG",
    analysisFee: "Frais d'analyse",
    privacyShield: "Bouclier de confidentialité",
    systemStatus: "État du système",
    gpuLoad: "Charge GPU",
    patientQueue: "File de patients",
    paymentPending: "Paiement en attente",
    analyzing: "Analyse en cours",
    verified: "Vérifié",
    teamCypher: "Équipe Cypher",
    collaborate: "Collaborer",
    lightMode: "Mode clair",
    darkMode: "Mode sombre",
    language: "Langue",
    masumiNode: "Nœud Masumi",
    midnightProver: "Prouveur Midnight",
    gpuMemory: "Mémoire GPU",
    hashingInputs: "Hachage des entrées",
    generatingZkSnark: "Génération ZK-SNARK",
    onChainVerification: "Vérification On-Chain",
    helpSupport: "Aide et Support",
    shortcuts: "Raccourcis",
    welcome: "Bienvenue",
    welcomeMessage:
      "Téléchargez des mammographies pour une analyse par IA. Vos données sont protégées par cryptage Zero-Knowledge.",
    quickTour: "Faire une visite rapide",
    searchPlaceholder: "Rechercher patients, scans...",
    notifications: "Notifications",
    noNotifications: "Aucune nouvelle notification",
    recentActivity: "Activité Récente",
  },
  de: {
    dashboard: "Dashboard",
    patients: "Patienten",
    diagnostics: "Diagnostik",
    analytics: "Analytik",
    settings: "Einstellungen",
    about: "Über uns",
    uploadMammogram: "Mammogramm hochladen",
    dragDrop: "DICOM oder PNG-Datei hierher ziehen",
    analysisFee: "Analysegebühr",
    privacyShield: "Datenschutzschild",
    systemStatus: "Systemstatus",
    gpuLoad: "GPU-Auslastung",
    patientQueue: "Patientenwarteschlange",
    paymentPending: "Zahlung ausstehend",
    analyzing: "Wird analysiert",
    verified: "Verifiziert",
    teamCypher: "Team Cypher",
    collaborate: "Zusammenarbeiten",
    lightMode: "Hellmodus",
    darkMode: "Dunkelmodus",
    language: "Sprache",
    masumiNode: "Masumi-Knoten",
    midnightProver: "Midnight-Beweiser",
    gpuMemory: "GPU-Speicher",
    hashingInputs: "Eingaben hashen",
    generatingZkSnark: "ZK-SNARK generieren",
    onChainVerification: "On-Chain-Verifizierung",
    helpSupport: "Hilfe & Support",
    shortcuts: "Tastenkürzel",
    welcome: "Willkommen",
    welcomeMessage:
      "Laden Sie Mammogramme für KI-gestützte Analyse hoch. Ihre Daten sind mit Zero-Knowledge-Verschlüsselung geschützt.",
    quickTour: "Schnelle Tour machen",
    searchPlaceholder: "Patienten, Scans suchen...",
    notifications: "Benachrichtigungen",
    noNotifications: "Keine neuen Benachrichtigungen",
    recentActivity: "Kürzliche Aktivität",
  },
  zh: {
    dashboard: "仪表板",
    patients: "患者",
    diagnostics: "诊断",
    analytics: "分析",
    settings: "设置",
    about: "关于",
    uploadMammogram: "上传乳房X光",
    dragDrop: "拖放您的DICOM或PNG文件",
    analysisFee: "分析费用",
    privacyShield: "隐私保护",
    systemStatus: "系统状态",
    gpuLoad: "GPU负载",
    patientQueue: "患者队列",
    paymentPending: "待支付",
    analyzing: "分析中",
    verified: "已验证",
    teamCypher: "Cypher团队",
    collaborate: "协作",
    lightMode: "浅色模式",
    darkMode: "深色模式",
    language: "语言",
    masumiNode: "Masumi节点",
    midnightProver: "Midnight证明器",
    gpuMemory: "GPU内存",
    hashingInputs: "输入哈希",
    generatingZkSnark: "生成ZK-SNARK",
    onChainVerification: "链上验证",
    helpSupport: "帮助与支持",
    shortcuts: "快捷键",
    welcome: "欢迎",
    welcomeMessage: "上传乳房X光进行AI分析。您的数据受零知识加密保护。",
    quickTour: "快速导览",
    searchPlaceholder: "搜索患者、扫描...",
    notifications: "通知",
    noNotifications: "没有新通知",
    recentActivity: "最近活动",
  },
  ja: {
    dashboard: "ダッシュボード",
    patients: "患者",
    diagnostics: "診断",
    analytics: "分析",
    settings: "設定",
    about: "概要",
    uploadMammogram: "マンモグラムをアップロード",
    dragDrop: "DICOMまたはPNGファイルをドラッグ＆ドロップ",
    analysisFee: "分析料金",
    privacyShield: "プライバシーシールド",
    systemStatus: "システム状況",
    gpuLoad: "GPU負荷",
    patientQueue: "患者キュー",
    paymentPending: "支払い待ち",
    analyzing: "分析中",
    verified: "検証済み",
    teamCypher: "チームサイファー",
    collaborate: "コラボレーション",
    lightMode: "ライトモード",
    darkMode: "ダークモード",
    language: "言語",
    masumiNode: "Masumiノード",
    midnightProver: "Midnightプルーバー",
    gpuMemory: "GPUメモリ",
    hashingInputs: "入力ハッシュ中",
    generatingZkSnark: "ZK-SNARK生成中",
    onChainVerification: "オンチェーン検証",
    helpSupport: "ヘルプとサポート",
    shortcuts: "ショートカット",
    welcome: "ようこそ",
    welcomeMessage: "AI分析のためにマンモグラムをアップロードしてください。データはゼロ知識暗号化で保護されています。",
    quickTour: "クイックツアー",
    searchPlaceholder: "患者、スキャンを検索...",
    notifications: "通知",
    noNotifications: "新しい通知はありません",
    recentActivity: "最近のアクティビティ",
  },
}

const languageNames: Record<Language, string> = {
  en: "English",
  es: "Español",
  fr: "Français",
  de: "Deutsch",
  zh: "中文",
  ja: "日本語",
}

interface I18nContextType {
  language: Language
  setLanguage: (lang: Language) => void
  t: (key: string) => string
  languages: { code: Language; name: string }[]
}

const I18nContext = createContext<I18nContextType | undefined>(undefined)

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>("en")

  const t = (key: string): string => {
    return translations[language][key] || key
  }

  const languages = Object.entries(languageNames).map(([code, name]) => ({
    code: code as Language,
    name,
  }))

  return <I18nContext.Provider value={{ language, setLanguage, t, languages }}>{children}</I18nContext.Provider>
}

export function useI18n() {
  const context = useContext(I18nContext)
  if (!context) {
    throw new Error("useI18n must be used within an I18nProvider")
  }
  return context
}
